<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="theme-color" content="#0f5e41">
    <title>HTML5 맞고</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="game-wrap">
      <header class="top-bar">
        <h1>맞고: 사람 vs AI</h1>
        <div class="top-controls">
          <button id="newGameBtn">새 게임</button>
          <button id="voiceToggleBtn" class="toggle-btn active" aria-pressed="true">음성</button>
          <button id="sfxToggleBtn" class="toggle-btn active" aria-pressed="true">효과음</button>
          <button id="pigbakToggleBtn" class="toggle-btn active" aria-pressed="true">피박</button>
          <button id="rulesBtn">규칙</button>
        </div>
      </header>

      <section class="layout">
        <section class="board-area">
          <section id="aiLane" class="player-lane ai-lane">
            <div id="aiHand" class="hand hand-hidden"></div>
          </section>

          <section class="table-stage">
            <div class="deck-box">
              <h3>더미</h3>
              <div id="deckCount" class="deck-count"></div>
              <h3 class="mini-title">뻑 더미</h3>
              <div id="ppukPiles" class="ppuk-piles"></div>
            </div>
            <div class="table-zone">
              <h3>바닥 패</h3>
              <div id="tableCards" class="table-cards"></div>
            </div>
          </section>

          <section id="humanLane" class="player-lane human-lane">
            <div id="humanHand" class="hand"></div>
          </section>

          <div id="turnCountdown" class="turn-countdown hidden" aria-live="polite"></div>
          <div id="goStopModal" class="go-stop-modal hidden" role="dialog" aria-modal="true" aria-labelledby="goStopTitle" aria-describedby="goStopScore">
            <div class="go-stop-card">
              <h3 id="goStopTitle">고/스톱 선택</h3>
              <p id="goStopScore"></p>
              <p id="goStopDetail"></p>
              <div class="go-stop-actions">
                <button id="goDecisionBtn">고</button>
                <button id="stopDecisionBtn">스톱</button>
              </div>
            </div>
          </div>
          <div id="nagariModal" class="go-stop-modal hidden" role="dialog" aria-modal="true" aria-labelledby="nagariTitle" aria-describedby="nagariDetail">
            <div class="go-stop-card">
              <h3 id="nagariTitle">나가리 (무승부)</h3>
              <p id="nagariDetail">묻고 더블로 가?</p>
              <div class="go-stop-actions">
                <button id="nagariYesBtn">예 (2배)</button>
                <button id="nagariNoBtn">아니오</button>
              </div>
            </div>
          </div>
          <div id="resultModal" class="result-modal hidden" role="dialog" aria-modal="true" aria-labelledby="resultTitle" aria-describedby="resultWinner">
            <div id="resultConfetti" class="result-confetti" aria-hidden="true"></div>
            <div class="result-card">
              <h3 id="resultTitle">게임 종료</h3>
              <p id="resultWinner"></p>
              <p id="resultFinalScore"></p>
              <button id="restartBtn">한 판 더!</button>
            </div>
          </div>
        </section>

        <aside class="side-panel">
          <section class="status-panel">
            <p id="statusText" aria-live="polite" role="status">게임 준비 중...</p>
            <p id="turnText" aria-live="polite"></p>
          </section>

          <section class="capture-box player-info-box mobile-only">
            <h3>AI 먹는 패</h3>
            <div id="mobileAiCapturedCards" class="captured-cards"></div>
          </section>

          <section class="capture-box player-info-box mobile-only">
            <h3>내가 먹는 패</h3>
            <div id="mobileHumanCapturedCards" class="captured-cards"></div>
          </section>

          <section class="capture-box player-info-box mobile-only">
            <h3>AI 점수</h3>
            <p id="mobileAiHandCount"></p>
            <p id="mobileAiScore"></p>
            <p id="mobileAiGo"></p>
          </section>

          <section class="capture-box player-info-box mobile-only">
            <h3>내 점수</h3>
            <p id="mobileHumanScore"></p>
            <p id="mobileHumanGo"></p>
          </section>

          <section class="capture-box player-info-box desktop-only">
            <h3>AI 정보</h3>
            <p id="aiHandCount"></p>
            <p id="aiScore"></p>
            <p id="aiGo"></p>
            <p class="mini-title recent-title">최근 낸 패</p>
            <div id="aiLastPlay" class="last-play recent-play"></div>
            <p class="mini-title">먹은 패</p>
            <div id="aiCapturedCards" class="captured-cards"></div>
          </section>

          <section class="capture-box player-info-box desktop-only">
            <h3>내 정보</h3>
            <p id="humanScore"></p>
            <p id="humanGo"></p>
            <p class="mini-title recent-title">최근 낸 패</p>
            <div id="humanLastPlay" class="last-play recent-play"></div>
            <p class="mini-title">먹은 패</p>
            <div id="humanCapturedCards" class="captured-cards"></div>
          </section>

          <section class="log-section">
            <h3>진행 로그</h3>
            <ul id="logList"></ul>
          </section>
        </aside>
      </section>
    </main>

    <script src="sound_manager.js"></script>
    <script src="game.js"></script>
  </body>
</html>
